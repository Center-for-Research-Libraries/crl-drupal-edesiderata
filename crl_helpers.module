<?php
// $Id

// Some constants.  Perhaps these should be module settings at some point
define('CRL_HELPERS_TOPIC_VID', 4); // The vocabulary ID of the 'Topic' 
                                    // taxonomy vocabulary.


// Pages with path aliases matching these paths are considered landing pages
// QUESTION: Is it best to implement this by matching paths or to look at the 
// page's location in a menu structure?
define('CRL_HELPERS_LANDING_PAGE_PATHS', <<<EOT
about
membership
collections
services
archiving-preservation
area-studies/camp
area-studies/lamp
area-studies/memp
area-studies/samp
area-studies/seam
area-studies/seemp
grn/gnarp
grn/cifnal
grn/afrinul
grn/hradp
grn/larrp
grn/trail
EOT
);



/**
 * Display help and module information
 * @param path which path of the site we're displaying help
 * @param arg array that holds the current path as would be returned from arg() function
 * @return help text for the path
 */
function crl_helpers_help() {
  $output = '';
  
  switch ($path) {
    case "admin/help#crl_helpers":
      $output = '<p>' . t("Provides helper functions, implements hooks to slightly alter default Drupal behavior, or encapsulates PHP snippets used throughout the site.") . '</p>';
      break;
  }
  return $output;
}




function crl_helpers_init() {
  //Disable sticky table headers if conditions met
  //if (variable_get('mymodulename_disable_sticky_js_headers', FALSE)) {
    drupal_add_js('Drupal.behaviors.tableHeader = function(){};', 'inline', 'footer');
  //}
  
      // Customize the user login/register/password page titles
    // Strings match the page titles as set in user_menu() so they are translated
    if (arg(0) == 'user' && arg(1) == 'register') {
      drupal_set_title(t('Register'));
    } elseif (arg(0) == 'user' && arg(1) == 'password') {
      drupal_set_title(t('Request new password'));
    } elseif (arg(0) == 'user' && arg(1) == 'login') {
      drupal_set_title(t('Log in'));
    } elseif (arg(0) == 'user' && arg(1) == '') {
      drupal_set_title(t('Log in'));
    }
      elseif (arg(0) == 'user' && arg(2) == 'profile') {
      drupal_set_title(t('Edit User Profile'));
    }
}




/**
 * Implementation of hook_e_mail_alter.
 *
 * This implementation gets rid of the Sender and Errors-To headers.  
 * These headers are, by default, set to the the e-mail address specified
 * at /admin/settings/site-information.  The setting of these headers cause
 * problems when trying to subscribe to a listserv as the result of a Webform
 * submission.
 *
 * See http://drupal.org/node/461324#comment-1716972 for more about this behavior.
 */
function crl_helpers_mail_alter(&$message) {
  unset($message['headers']['Sender']);
  unset($message['headers']['Errors-To']);
}

/**
 * Return the name of the menu that contains a node's menu item.
 */
function crl_helpers_node_get_menu_name($node) {
  $menu_name = db_result(db_query_range("SELECT menu_name FROM {menu_links} WHERE link_path = 'node/%d' AND module = 'menu'", $node->nid, 0, 1));
  return $menu_name;
}

/**
 * Determines if the current page is a jstor page.
 *
 * This function will have to be modified if the JSTOR pages are ever
 * moved in the menu structure.
 */
function crl_helpers_is_jstor_page() {
  $is_jstor_page = FALSE;
  $active_trail = menu_get_active_trail();

  if (isset($active_trail[1]) &&
      strpos($active_trail[1]['title'], 'JSTOR') !== FALSE) {
    $is_jstor_page = TRUE;
  }

  return $is_jstor_page;
}

/**
 * Determines if the current page is a topic guide.
 *
 * This function will have to be modified if the Topic Guide URL paths
 * ever change.
 */
function crl_helpers_is_topic_guide() {
  $is_topic_guide = FALSE;
  $alias = drupal_get_path_alias($_GET['q']);

  if (drupal_match_path($alias, 'collections/topics/*')) {
    $is_topic_guide = TRUE;
  }

  if (drupal_match_path($alias, 'guide/*')) {
    $is_topic_guide = TRUE;
  }


  return $is_topic_guide;
}

/**
 * Determines if the current page is a news or events page.
 */
function crl_helpers_is_news_events_page(){
  if (arg(0) == 'node') {
    $node = node_load(arg(1));
    if ($node->type == 'news' || $node->type == 'event') {
      return TRUE;
    }
  }

  return FALSE;
}

/**
 * Determines if the current page is a news or events page.
 *
 * This function will have to be modified if the JSTOR pages are ever
 * moved in the menu structure.
 */
function crl_helpers_is_news_events_subpage() {
  $is_news_events_subpage = FALSE;

  $active_trail = menu_get_active_trail();

  // TODO: Finish implementing this.

  return $is_news_events_subpage;
}

/**


 * Determines if the current page is a landing page.
 *
 * Landing pages are pages at the top level of the navigation menu.
 */
function crl_helpers_is_landing_page() {
  $alias = drupal_get_path_alias($_GET['q']);

  $is_landing_page = drupal_match_path($alias, CRL_HELPERS_LANDING_PAGE_PATHS); 

  return $is_landing_page;
}

/**



/**


 * Determines if the current page is a review.
 *
 * 
 */
function crl_helpers_is_review() {
  $is_review = FALSE;
  $alias = drupal_get_path_alias($_GET['q']);

  if (drupal_match_path($alias, 'review/*')) {
    $is_review = TRUE;
  }
  return $is_review;
}

/**



 * Determines if the current page is a profile.
 *
 * 
 */
function crl_helpers_is_profile() {
  $is_profile = FALSE;
  $alias = drupal_get_path_alias($_GET['q']);

  if (drupal_match_path($alias, 'profile/*')) {
    $is_profile = TRUE;
  }
  return $is_profile;
}

/** 



 * Determines if the current page is GRN / AMP.
 *
 * 
 */
function crl_helpers_is_grn_amp() {
  $is_grn_amp = FALSE;
  $alias = drupal_get_path_alias($_GET['q']);

  if (drupal_match_path($alias, 'grn/*')) {
    $is_grn_amp = TRUE;
  }
  
   if (drupal_match_path($alias, 'area-studies/*')) {
    $is_grn_amp = TRUE;
  } 
  
  
  return $is_grn_amp;
}

/**



 * Return a page node's type based on it's position in the menu structure.
 *
 * There are a number of pieces of content in the CRL site that are implemented
 * using the Page content type, but differ in some ways from a "normal" page.
 * These "special" pages may require different theming or other handling.
 * Typically, taxonomy is used to distinguish such pages, but the CRL site
 * relies on the menu structure to organize the site and distinguish different
 * types of content.  This function returns a string identifying the "type" of
 * a page node based on its position in the menu structure.
 *
 * @param node page node object.
 *
 * @return string identifying the "type" of the page. 
 */
function crl_helpers_get_page_type() {
  if (crl_helpers_is_jstor_page()) {
    $page_type = 'jstor-title-list-page';
  }
  else if (crl_helpers_is_news_events_subpage()) {
    $page_type = 'news-events-sub-page';
  }


  else if (crl_helpers_is_landing_page()) {
    $page_type = 'landing-page';
  }


  else {
    $page_type = 'page';
  }
  
  return $page_type;
}

/**
 * Implementation of hook_token_list().
 */

function crl_helpers_token_list($type = 'all') {
  if ($type == 'global' || $type == 'all') {
    // We don't implement any global tokens yet.
  }

  if ($type == 'node' || $type == 'all') {
    // Node tokens here
    $tokens['node']['crl-menupath-raw'] = t('A customized version of the [menupath-raw] token for the CRL menus that puts certain items (e.g. GRN) at the top level.');
  }

  return $tokens;
}

/**
 * Implementation of hook_token_values().
 */
function crl_helpers_token_values($type, $object = NULL) {
  $values = array();
  switch ($type) {
    case 'global':
      break;  
    case 'node':
      // Node tokens here.
      $node = $object;

      // This code is from token_node.inc:node_token_values() in the token 
      // token module.

      // Try to get the menu data.
      $mlid = db_result(db_query("SELECT mlid FROM {menu_links} WHERE link_path = '%s'", 'node/'. $node->nid));

      // Now get the menu related information.
      if (!empty($mlid) || !empty($node->menu['mlid']) || !empty($node->menu['plid'])) {
        $menu_link = menu_link_load($mlid);
        $menus = menu_get_menus();
        $menu = isset($menus[$menu_link['menu_name']]) ? $menus[$menu_link['menu_name']] : '';
        $trail_raw = _menu_titles($menu_link, $node->nid);

        $trail = array();
        foreach ($trail_raw as $title) {
          $trail[] = check_plain($title);
        }

        // This is how node_token generates the default tokens
        $value_menupath            = implode('/', $trail);
        $value_menupath_raw        = implode('/', $trail_raw);
        $value_menu                = check_plain($menu);
        $value_menu_raw            = $menu;
        $value_menu_link_title     = check_plain($menu_link['title']);
        $value_menu_link_title_raw = $menu_link['link_title'];
      }
      else {
        $value_menupath            = '';
        $value_menupath_raw        = '';
        $value_menu                = '';
        $value_menu_raw            = '';
        $value_menu_link_title     = '';
        $value_menu_link_title_raw = '';
      }

      // NOTE: You'll have to change this if statement if the menu that contains 
      // events ever changes.
      if ($menu_link['menu_name'] == 'menu-crl-events') {
        // If this item is in the events menu
        $value_crl_menupath_raw = $value_menupath_raw; // Start with the default ['menupath-raw']
        if (!empty($node->menu['plid'])) {
          // If the node has a parent in the menu, we want the token to be of
          // the form: Events/PARENT_NID/Title
          $plid = $node->menu['plid'];
          $parent_menu_link = menu_link_load($plid);
          $parent_link_path_parts = preg_split("/\//", $parent_menu_link['link_path']); 
          if (count($parent_link_path_parts) == 2 && 
              $parent_link_path_parts[0] == 'node') {
            $parent_nid = $parent_link_path_parts[1];
            $value_crl_menupath_raw = 'Events/' . $parent_nid . '/' . $value_menu_link_title_raw;
          }
        }
      }
      else {
        //$value_crl_menupath_raw = $value_menupath_raw; // Start with the default ['menupath-raw']
        //$value_crl_menupath_raw = str_replace('Forum/Area Studies', 'Area Studies',  $value_crl_menupath_raw);
        //$value_crl_menupath_raw = str_replace('Forum/GRN', 'GRN', $value_crl_menupath_raw);
        //$value_crl_menupath_raw = str_replace('Collaborations/Collaborative Digitization', 'Collaborative Digitization', $value_crl_menupath_raw);
      }

      $values['crl-menupath-raw'] = $value_crl_menupath_raw;
      break;
  }

  return $values;
}

/**
 * Get a Topic Guide node's term object for it's Topic vocabulary taxonomy term.
 *
 * @param $node - Topic Guide node.
 *
 * @return Taxonomy term object for the node's Topic vocabulary taxonomy term. NULL 
 *         if no such term exists.
 */
function crl_helpers_get_topic_guide_topic_term($node) {
  if (isset($node->taxonomy)) {
    foreach ($node->taxonomy as $term) {
      if ($term->vid == CRL_HELPERS_TOPIC_VID) {
        return $term;
      }
    }
  }

  return NULL; 
}

/**
 * Get a Topic Guide node's Topic vocabulary taxonomy term.
 *
 * @param $node - Topic guide node.
 *
 * @return String containing Topic vocabulary term name or NULL if there isn't one.
 *
 */
function crl_helpers_get_topic_guide_topic_name($node) {
  $term = crl_helpers_get_topic_guide_topic_term($node);
  if ($term !== NULL) {
    return $term->name;
  }
  else {
    return NULL;
  }
}

/**
 * Get a Topic Guide node's Topic vocabulary taxonomy term ID.
 *
 * @param $node - Topic guide node.
 *
 * @return  Integer containing Topic vocabulary term TID or NULL if there isn't one.
 *
 */
function crl_helpers_get_topic_guide_topic_tid($node) {
  $term = crl_helpers_get_topic_guide_topic_term($node);
  if ($term !== NULL) {
    return $term->tid;
  }
  else {
    return NULL;
  }
}

/**
 * Implementation of hook_menu_alter().
 */
function crl_helpers_menu_alter(&$items) {
  // Disable the default RSS feed.
  unset($items['rss.xml']);
}

/**
 * Use the phpsniff library to determine if the client's browser is supported. 
 */
function crl_helpers_is_unsupported_browser() {
  static $is_unsupported_browser = NULL;
  if (is_null($is_unsupported_browser)) {
    $phpsniff_path = drupal_get_path('module', 'crl_helpers') . '/phpsniff/phpSniff.class.php';
    if (file_exists($phpsniff_path)) { 
      // Load the phpsniff library and use it.
      require_once $phpsniff_path;
      $client = new phpSniff($_REQUEST['UA']);

      if ($client->browser_is('ie')) {
        if ($client->browser_is('ie7+')) {
          $is_unsupported_browser = FALSE;
        }
        else {
          $is_unsupported_browser = TRUE;
        }
      }
      else {
        $is_unsupported_browser = FALSE;
      }
    }
  }

  return $is_unsupported_browser;
}







/**
* This function adds a "reset" button to the views defined in $exposed_views
* Implementation of hook_form_alter().
*/
function crl_helpers_form_alter(&$form, $form_state, $form_id) {
  if ($form_id == 'views_exposed_form') {
    $exposed_views = array('page_assignments');
    if (in_array($form_state['view']->name, $exposed_views)) {
      $current_display = $form_state['view']->current_display;
      $form['reset'] = array(
        '#type' => 'markup',
        '#value' => '<input class="form-button" type="reset"
value="Reset" onClick="javascript:window.location=\'/'.
$form_state['view']->display[$current_display]->
display_options['path'] .'\';" />',
      );
    }
  }
  if ($form_id == 'user_register') {
    array_unshift($form['#validate'], 'crl_reg_validate');
    drupal_add_js('sites/default/themes/crl/registration.js', 'file'); 

    unset($form['#pre_render']);
    $form['field_user_profile_fname']['#weight'] = 2;
    $form['field_user_profile_lname']['#weight'] = 3;
    $form['mail']['#weight'] = 1;
    $form['pass']['#weight'] = 4;
    $form['group_user_profile_professional']['#weight'] = 5;
    $form['field_user_profile_notes']['#weight'] = 6;
    $form['mail']['#title'] = 'Email Address (user name)';
    //print_r($form);
    
    //$form['group_user_profile_professional']['mail'] = 'E-mail address (user name)';
    //$form['group_user_profile_professional']['mail'] = 'A valid! e-mail address, which will also function as your user name. All e-mails from the system will be sent to this address. The e-mail address is not made public and will only be used if you wish to receive a new password or wish to receive certain news or notifications by e-mail.';
  }
  
  
  if ($form_id == 'user_profile_node_form') {
    array_unshift($form['#validate'], 'crl_reg_validate');
    drupal_add_js('sites/default/themes/crl/registration.js', 'file');
  }
  
  if ($form_id == 'user_login' && $_GET['event'] == 1) {
    $form['name']['#size'] = 37;
    $form['pass']['#size'] = 37;
    //destination is given over the url
    $path = $_GET['destination'];
    //unset default form destination
    unset($_REQUEST['destination'], $_REQUEST['edit']['destination']);
    //redirect to signup form with additional variables that give theming parameters
    $form['#redirect'] = array($path . '/signups', "pc=1&event=1&signup=1");
    
       
  }
  
  if ($form_id == 'signup_form') {
    $path = 'event-thanks?pc=1';
    $form['#action'] = url($_GET['q'], array('query' => array('destination' => $path)));

  }
  
}





function crl_truncate($name){
	  $names = explode(" ", $name);
	  $names[1] = substr($names[1], 0, 1);
	  $edited = $names[0] . " " . $names[1] . ".";
	  return $edited;
}

function crl_reg_validate ($form, $form_state)  {

    if ($form_state['values']['field_user_profile_inst'][0]['value'] && $form_state['values']['field_user_profile_nm_inst'][0]['value']){
    form_set_error('field_user_profile_member_check' , t('You cant have values for both a member institution and a non-member institution.'));
    drupal_add_js('sites/default/themes/crl/registration.js', 'file'); 
    }
    
    if ($form_state['values']['field_user_profile_member_check'][0]['value'] == "Yes" && !$form_state['values']['field_user_profile_inst'][0]['value']){
    form_set_error('field_user_profile_inst' , t('You must choose a CRL member institution.'));
    drupal_add_js('sites/default/themes/crl/registration.js', 'file'); 
    } 
    
     if ($form_state['values']['field_user_profile_member_check'][0]['value'] == "No" && !$form_state['values']['field_user_profile_nm_inst'][0]['value']){
    form_set_error('field_user_profile_nm_inst' , t('You must enter the name of your institution.'));
    drupal_add_js('sites/default/themes/crl/registration.js', 'file'); 
    }    
     
}




/**
* Implementation of hook_webform_select_options_info().
* See webform/webform_hooks.php for further information on this hook in the Webform API.
*/
function crl_helpers_webform_select_options_info() {
  $items = array();
  $items['institutions'] = array(
    'title' => t('Institutions'),
    'options callback' => 'crl_helpers_options_institutions'
  );

  $items['institutions_all'] = array(
    'title' => t('Institutions and GRN non-members'),
    'options callback' => 'crl_helpers_options_institutions_all'
  );
  
  
  return $items;}






/**
* Build an options list for use by webforms.
* 
*/

function crl_helpers_options_institutions() {
  // initial multidimensional associative array of institution names and sorting names, with the SF index as the key
  $options =  array(
'001A000000JLBZJ' => array('nameforsort'=>'Arkansas State University', 'name'=>'Arkansas State University'),                                                                                                         
'001A000000AWiV0' => array('nameforsort'=>'United States Environmental Protection Agency', 'name'=>'United States Environmental Protection Agency'),                                                                 
'001A000000AWiV1' => array('nameforsort'=>'Valparaiso University', 'name'=>'Valparaiso University'),                                                                                                                 
'001A000000AWiV2' => array('nameforsort'=>'Wright State University', 'name'=>'Wright State University'),                                                                                                             
'001A000000AWiV3' => array('nameforsort'=>'Carnegie-Mellon University', 'name'=>'Carnegie-Mellon University'),                                                                                                       
'001A000000AWiV4' => array('nameforsort'=>'Chicago State University', 'name'=>'Chicago State University'),                                                                                                           
'001A000000AWiV5' => array('nameforsort'=>'William and Mary, College of', 'name'=>'College of William and Mary'),                                                                                                    
'001A000000AWiV6' => array('nameforsort'=>'Denver, University of', 'name'=>'University of Denver'),                                                                                                                  
'001A000000AWiV7' => array('nameforsort'=>'Florida Atlantic University', 'name'=>'Florida Atlantic University'),                                                                                                     
'001A000000AWiV8' => array('nameforsort'=>'George Mason University', 'name'=>'George Mason University'),                                                                                                             
'001A000000AWiV9' => array('nameforsort'=>'Marquette University', 'name'=>'Marquette University'),                                                                                                                   
'001A000000AWiVA' => array('nameforsort'=>'North Texas, University of', 'name'=>'University of North Texas'),                                                                                                        
'001A000000AWiVB' => array('nameforsort'=>'Ottawa, University of', 'name'=>'University of Ottawa'),                                                                                                                  
'001A000000AWiVC' => array('nameforsort'=>'Texas, University of - San Antonio', 'name'=>'University of Texas at San Antonio'),                                                                                       
'001A000000AWiVD' => array('nameforsort'=>'Victoria, University of', 'name'=>'University of Victoria'),                                                                                                              
'001A000000AWiVE' => array('nameforsort'=>'Belmont Technical College', 'name'=>'Belmont Technical College'),                                                                                                         
'001A000000AWiVF' => array('nameforsort'=>'Cincinnati State Technical and Community College', 'name'=>'Cincinnati State Technical and Community College'),                                                         
'001A000000AWiVG' => array('nameforsort'=>'Cleveland State University', 'name'=>'Cleveland State University'),                                                                                                       
'001A000000AWiVH' => array('nameforsort'=>'Wooster, College of', 'name'=>'College of Wooster'),                                                                                                                    
'001A000000AWiVI' => array('nameforsort'=>'Cuyahoga Community College', 'name'=>'Cuyahoga Community College'),                                                                                                       
'001A000000AWiVJ' => array('nameforsort'=>'Edison Community College', 'name'=>'Edison Community College'),                                                                                                           
'001A000000AWiVK' => array('nameforsort'=>'Jefferson Community College', 'name'=>'Jefferson Community College'),                                                                                                     
'001A000000AWiVL' => array('nameforsort'=>'Lakeland Community College', 'name'=>'Lakeland Community College'),                                                                                                       
'001A000000AWiVM' => array('nameforsort'=>'Medical College of Ohio', 'name'=>'Medical College of Ohio'),                                                                                                             
'001A000000AWiVN' => array('nameforsort'=>'Northeastern Ohio Universities College of Medicine', 'name'=>'Northeastern Ohio Universities College of Medicine (NEOUCOM)'),                                             
'001A000000AWiVO' => array('nameforsort'=>'Oberlin College', 'name'=>'Oberlin College'),                                                                                                                             
'001A000000AWiVP' => array('nameforsort'=>'Ohio Northern University', 'name'=>'Ohio Northern University'),                                                                                                           
'001A000000AWiVQ' => array('nameforsort'=>'Owens Community College', 'name'=>'Owens Community College'),                                                                                                             
'001A000000AWiVR' => array('nameforsort'=>'Shawnee State University', 'name'=>'Shawnee State University'),                                                                                                           
'001A000000AWiVS' => array('nameforsort'=>'Southern State Community College', 'name'=>'Southern State Community College'),                                                                                           
'001A000000AWiVT' => array('nameforsort'=>'Terra Community College', 'name'=>'Terra Community College'),                                                                                                             
'001A000000AWiVU' => array('nameforsort'=>'Xavier University', 'name'=>'Xavier University'),                                                                                                                         
'001A000000AWiVV' => array('nameforsort'=>'Youngstown State University', 'name'=>'Youngstown State University'),                                                                                                     
'001A000000AWiVW' => array('nameforsort'=>'Capital University', 'name'=>'Capital University'),                                                                                                                       
'001A000000AWiVX' => array('nameforsort'=>'Central State University', 'name'=>'Central State University'),                                                                                                           
'001A000000AWiVY' => array('nameforsort'=>'Clark State Community College', 'name'=>'Clark State Community College'),                                                                                                 
'001A000000AWiVZ' => array('nameforsort'=>'Mount St. Joseph, College of', 'name'=>'College of Mount St. Joseph'),                                                                                                    
'001A000000AWiVa' => array('nameforsort'=>'Columbus State Community College', 'name'=>'Columbus State Community College'),                                                                                           
'001A000000AWiVb' => array('nameforsort'=>'Denison University', 'name'=>'Denison University'),                                                                                                                       
'001A000000AWiVc' => array('nameforsort'=>'Hocking College', 'name'=>'Hocking College'),                                                                                                                             
'001A000000AWiVd' => array('nameforsort'=>'Kenyon College', 'name'=>'Kenyon College'),                                                                                                                               
'001A000000AWiVe' => array('nameforsort'=>'Lorain County Community College', 'name'=>'Lorain County Community College'),                                                                                             
'001A000000AWiVf' => array('nameforsort'=>'Mount Vernon Nazarene University', 'name'=>'Mount Vernon Nazarene Univesity'),                                                                                            
'001A000000AWiVg' => array('nameforsort'=>'Northwest State Community College', 'name'=>'Northwest State Community College'),                                                                                         
'001A000000AWiVh' => array('nameforsort'=>'Ohio Dominican University', 'name'=>'Ohio Dominican University'),                                                                                                         
'001A000000AWiVi' => array('nameforsort'=>'Ohio Wesleyan University', 'name'=>'Ohio Wesleyan University'),                                                                                                           
'001A000000AWiVj' => array('nameforsort'=>'Rio Grande Community College', 'name'=>'Rio Grande Community College'),                                                                                                   
'001A000000AWiVk' => array('nameforsort'=>'Sinclair Community College', 'name'=>'Sinclair Community College'),                                                                                                       
'001A000000AWiVl' => array('nameforsort'=>'State Library of Ohio', 'name'=>'State Library of Ohio'),                                                                                                                 
'001A000000AWiVm' => array('nameforsort'=>'Toledo, University of', 'name'=>'University of Toledo'),                                                                                                                  
'001A000000AWiVn' => array('nameforsort'=>'Ursuline College', 'name'=>'Ursuline College'),                                                                                                                           
'001A000000AWiVp' => array('nameforsort'=>'Carleton College', 'name'=>'Carleton College'),                                                                                                                           
'001A000000AWiVq' => array('nameforsort'=>'Colorado College', 'name'=>'Colorado College'),                                                                                                                           
'001A000000AWiVr' => array('nameforsort'=>'Georgia State University', 'name'=>'Georgia State University'),                                                                                                           
'001A000000AWiVs' => array('nameforsort'=>'Grinnell College', 'name'=>'Grinnell College'),                                                                                                                           
'001A000000AWiVt' => array('nameforsort'=>'Knox College', 'name'=>'Knox College'),                                                                                                                                   
'001A000000AWiVu' => array('nameforsort'=>'Monmouth College', 'name'=>'Monmouth College'),                                                                                                                           
'001A000000AWiVy' => array('nameforsort'=>'Oklahoma State University', 'name'=>'Oklahoma State University'),                                                                                                         
'001A000000AWiW1' => array('nameforsort'=>'Hong Kong, University of', 'name'=>'University of Hong Kong'),                                                                                                            
'001A000000AWiW2' => array('nameforsort'=>'Antioch College', 'name'=>'Antioch College'),                                                                                                                             
'001A000000AWiW3' => array('nameforsort'=>'Ashland University', 'name'=>'Ashland University'),                                                                                                                       
'001A000000AWiW4' => array('nameforsort'=>'Athenaeum of Ohio', 'name'=>'The Athenaeum of Ohio'),                                                                                                                     
'001A000000AWiW5' => array('nameforsort'=>'Baldwin-Wallace College', 'name'=>'Baldwin-Wallace College'),                                                                                                             
'001A000000AWiW6' => array('nameforsort'=>'Bluffton University', 'name'=>'Bluffton University'),                                                                                                                     
'001A000000AWiW7' => array('nameforsort'=>'Central Ohio Technical College', 'name'=>'Central Ohio Technical College'),                                                                                               
'001A000000AWiW8' => array('nameforsort'=>'Defiance College', 'name'=>'Defiance College'),                                                                                                                           
'001A000000AWiW9' => array('nameforsort'=>'Franciscan University of Steubenville', 'name'=>'Franciscan University of Steubenville'),                                                                                 
'001A000000AWiWA' => array('nameforsort'=>'Heidelberg University', 'name'=>'Heidelberg University'),                                                                                                                 
'001A000000AWiWB' => array('nameforsort'=>'Hiram College', 'name'=>'Hiram College'),                                                                                                                                 
'001A000000AWiWC' => array('nameforsort'=>'John Carroll University', 'name'=>'John Carroll University'),                                                                                                             
'001A000000AWiWD' => array('nameforsort'=>'Rhodes State College', 'name'=>'James A. Rhodes State College'),                                                                                                          
'001A000000AWiWE' => array('nameforsort'=>'Malone College', 'name'=>'Malone College'),                                                                                                                               
'001A000000AWiWF' => array('nameforsort'=>'Marion Technical College', 'name'=>'Marion Technical College'),                                                                                                           
'001A000000AWiWG' => array('nameforsort'=>'Mount Union College', 'name'=>'Mount Union College'),                                                                                                                     
'001A000000AWiWH' => array('nameforsort'=>'Zane State College', 'name'=>'Zane State College'),                                                                                                                       
'001A000000AWiWI' => array('nameforsort'=>'Otterbein University', 'name'=>'Otterbein University'),                                                                                                                   
'001A000000AWiWJ' => array('nameforsort'=>'Stark State College of Technology', 'name'=>'Stark State College of Technology'),                                                                                         
'001A000000AWiWK' => array('nameforsort'=>'Tiffin University', 'name'=>'Tiffin University'),                                                                                                                         
'001A000000AWiWL' => array('nameforsort'=>'Findlay, University of', 'name'=>'The University of Findlay'),                                                                                                            
'001A000000AWiWM' => array('nameforsort'=>'Washington State Community College', 'name'=>'Washington State Community College'),                                                                                       
'001A000000AWiWN' => array('nameforsort'=>'Wilberforce University', 'name'=>'Wilberforce University'),                                                                                                               
'001A000000AWiWO' => array('nameforsort'=>'Wilmington College', 'name'=>'Wilmington College'),                                                                                                                       
'001A000000AWiWP' => array('nameforsort'=>'Wittenberg University', 'name'=>'Wittenberg University'),                                                                                                                 
'001A000000AWiWQ' => array('nameforsort'=>'Cedarville University', 'name'=>'Cedarville University'),                                                                                                                 
'001A000000AWiWR' => array('nameforsort'=>'North Central State College', 'name'=>'North Central State College'),                                                                                                     
'001A000000AWiWS' => array('nameforsort'=>'Brigham Young University', 'name'=>'Brigham Young University'),                                                                                                           
'001A000000AWiWT' => array('nameforsort'=>'New York Public Library', 'name'=>'New York Public Library'),                                                                                                             
'001A000000AWiWU' => array('nameforsort'=>'Connecticut, University of', 'name'=>'University of Connecticut'),                                                                                                        
'001A000000AWiWW' => array('nameforsort'=>'South Florida, University of', 'name'=>'University of South Florida'),                                                                                                    
'001A000000AWiWX' => array('nameforsort'=>'Temple University', 'name'=>'Temple University'),                                                                                                                         
'001A000000AWiWY' => array('nameforsort'=>'Manitoba, University of', 'name'=>'University of Manitoba'),                                                                                                              
'001A000000AWiWZ' => array('nameforsort'=>'Pennsylvania, University of', 'name'=>'University of Pennsylvania'),                                                                                                      
'001A000000AWiWa' => array('nameforsort'=>'Queen\'s University', 'name'=>'Queen\'s University'),                                                                                                                       
'001A000000AWiWb' => array('nameforsort'=>'Dartmouth College', 'name'=>'Dartmouth College'),                                                                                                                         
'001A000000AWiWc' => array('nameforsort'=>'Cincinnati Christian University', 'name'=>'Cincinnati Christian University'),                                                                                             
'001A000000AWiWd' => array('nameforsort'=>'Cleveland Clinic', 'name'=>'Cleveland Clinic'),                                                                                                                           
'001A000000AWiWe' => array('nameforsort'=>'Columbus College of Art and Design', 'name'=>'Columbus College of Art and Design'),                                                                                       
'001A000000AWiWf' => array('nameforsort'=>'Franklin University', 'name'=>'Franklin University'),                                                                                                                     
'001A000000AWiWg' => array('nameforsort'=>'Lourdes College', 'name'=>'Lourdes College'),                                                                                                                             
'001A000000AWiWh' => array('nameforsort'=>'Marietta College', 'name'=>'Marietta College'),                                                                                                                           
'001A000000AWiWi' => array('nameforsort'=>'Mercy College of Northwest Ohio', 'name'=>'Mercy College of Northwest Ohio'),                                                                                             
'001A000000AWiWj' => array('nameforsort'=>'Muskingum College', 'name'=>'Muskingum College'),                                                                                                                         
'001A000000AWiWk' => array('nameforsort'=>'Myers University', 'name'=>'Myers University'),                                                                                                                           
'001A000000AWiWl' => array('nameforsort'=>'Notre Dame College', 'name'=>'Notre Dame College'),                                                                                                                       
'001A000000AWiWm' => array('nameforsort'=>'Urbana University', 'name'=>'Urbana University'),                                                                                                                         
'001A000000AWiWn' => array('nameforsort'=>'Walsh University', 'name'=>'Walsh University'),                                                                                                                           
'001A000000AWiWo' => array('nameforsort'=>'Mount Carmel College of Nursing', 'name'=>'Mount Carmel College of Nursing'),                                                                                             
'001A000000AWiWp' => array('nameforsort'=>'Field Museum, The', 'name'=>'The Field Museum'),                                                                                                                          
'001A000000AWiWq' => array('nameforsort'=>'Vassar College', 'name'=>'Vassar College'),                                                                                                                               
'001A000000AWiWt' => array('nameforsort'=>'Lakehead University', 'name'=>'Lakehead University'),                                                                                                                     
'001A000000AWiWu' => array('nameforsort'=>'McMaster University', 'name'=>'McMaster University'),                                                                                                                     
'001A000000AWiQh' => array('nameforsort'=>'Akron, University of', 'name'=>'University of Akron'),                                                                                                                    
'001A000000AWiQi' => array('nameforsort'=>'Alberta, University of', 'name'=>'University of Alberta'),                                                                                                                
'001A000000AWiQj' => array('nameforsort'=>'Arizona State University', 'name'=>'Arizona State University'),                                                                                                           
'001A000000AWiQk' => array('nameforsort'=>'British Columbia, University of', 'name'=>'University of British Columbia'),                                                                                              
'001A000000AWiTa' => array('nameforsort'=>'California, University of - Davis', 'name'=>'University of California, Davis'),                                                                                           
'001A000000AWiTb' => array('nameforsort'=>'California, University of - Los Angeles', 'name'=>'University of California, Los Angeles'),                                                                               
'001A000000AWiTc' => array('nameforsort'=>'California, University of - San Diego', 'name'=>'University of California, San Diego'),                                                                                   
'001A000000AWiTd' => array('nameforsort'=>'California, University of - Santa Cruz', 'name'=>'University of California, Santa Cruz'),                                                                                 
'001A000000AWiWx' => array('nameforsort'=>'Western Ontario, University of', 'name'=>'University of Western Ontario'),                                                                                                
'001A000000AWiWz' => array('nameforsort'=>'Windsor, University of', 'name'=>'University of Windsor'),                                                                                                                
'001A000000AWiX0' => array('nameforsort'=>'Wilfrid Laurier University', 'name'=>'Wilfrid Laurier University'),                                                                                                       
'001A000000AWiX1' => array('nameforsort'=>'Athabasca University', 'name'=>'Athabasca University'),                                                                                                                   
'001A000000AWiX3' => array('nameforsort'=>'Regina, University of', 'name'=>'University of Regina'),                                                                                                                  
'001A000000AWiX4' => array('nameforsort'=>'Saskatchewan, University of', 'name'=>'University of Saskatchewan'),                                                                                                      
'001A000000AWiX6' => array('nameforsort'=>'Florida International University', 'name'=>'Florida International University'),                                                                                           
'001A000000AWiX7' => array('nameforsort'=>'Texas Tech University', 'name'=>'Texas Tech University'),                                                                                                                 
'001A000000AWiX8' => array('nameforsort'=>'Oklahoma, University of', 'name'=>'University of Oklahoma'),                                                                                                              
'001A000000AWiX9' => array('nameforsort'=>'Simon Fraser University', 'name'=>'Simon Fraser University'),                                                                                                             
'001A000000AWiXA' => array('nameforsort'=>'St. Lawrence University', 'name'=>'St. Lawrence University'),                                                                                                             
'001A000000AWiXB' => array('nameforsort'=>'Massachusetts, University of, Amherst', 'name'=>'University of Massachusetts Amherst'),                                                                                   
'001A000000AWiXC' => array('nameforsort'=>'Grambling State University', 'name'=>'Grambling State University'),                                                                                                       
'001A000000AWiXD' => array('nameforsort'=>'Calgary, University of', 'name'=>'University of Calgary'),                                                                                                                
'001A000000AWiXE' => array('nameforsort'=>'Canisius College', 'name'=>'Canisius College'),                                                                                                                           
'001A000000AWiWw' => array('nameforsort'=>'Trent University', 'name'=>'Trent University'),                                                                                                                           
'001A000000AWiXG' => array('nameforsort'=>'Brock University', 'name'=>'Brock University'),                                                                                                                           
'001A000000AWiXH' => array('nameforsort'=>'Colgate University', 'name'=>'Colgate University'),                                                                                                                       
'001A000000AWiXI' => array('nameforsort'=>'Le Moyne College', 'name'=>'Le Moyne College'),                                                                                                                           
'001A000000AWiXJ' => array('nameforsort'=>'Siena College', 'name'=>'Siena College'),                                                                                                                                 
'001A000000AWiXK' => array('nameforsort'=>'Ontario College of Art and Design', 'name'=>'Ontario College of Art and Design'),                                                                                         
'001A000000AWiXL' => array('nameforsort'=>'Newberry Library', 'name'=>'The Newberry Library'),                                                                                                                       
'001A000000AWiXM' => array('nameforsort'=>'New Mexico, University of', 'name'=>'University of New Mexico'),                                                                                                          
'001A000000AWiXN' => array('nameforsort'=>'Skidmore College', 'name'=>'Skidmore College'),                                                                                                                           
'001A000000AWiXO' => array('nameforsort'=>'Colby College', 'name'=>'Colby College'),                                                                                                                                 
'001A000000AWiXP' => array('nameforsort'=>'Art Institute of Chicago, The School of', 'name'=>'The School of the Art Institute of Chicago'),                                                                          
'001A000000AWiXQ' => array('nameforsort'=>'Illinois College', 'name'=>'Illinois College'),                                                                                                                           
'001A000000AWiXS' => array('nameforsort'=>'Hope College', 'name'=>'Hope College'),                                                                                                                                   
'001A000000AWiXT' => array('nameforsort'=>'Benedictine University', 'name'=>'Benedictine University'),                                                                                                               
'001A000000AWiXU' => array('nameforsort'=>'Adler School of Professional Psychology', 'name'=>'Adler School of Professional Psychology'),                                                                             
'001A000000AWiXV' => array('nameforsort'=>'Illinois Wesleyan University', 'name'=>'Illinois Wesleyan University'),                                                                                                   
'001A000000AWiXW' => array('nameforsort'=>'Wayne State University', 'name'=>'Wayne State University'),                                                                                                               
'001A000000AWiXX' => array('nameforsort'=>'Virginia Tech', 'name'=>'Virginia Tech'),                                                                                                                                 
'001A000000AWiXY' => array('nameforsort'=>'Millikin University', 'name'=>'Millikin University'),                                                                                                                     
'001A000000AWiXZ' => array('nameforsort'=>'DePaul University', 'name'=>'DePaul University'),                                                                                                                         
'001A000000AWiXq' => array('nameforsort'=>'Hawaii, University of - Manoa', 'name'=>'University of Hawaii at Manoa'),                                                                                                 
'001A000000AWiTe' => array('nameforsort'=>'Cincinnati, University of', 'name'=>'University of Cincinnati'),                                                                                                          
'001A000000AWiTf' => array('nameforsort'=>'Colorado, University of', 'name'=>'University of Colorado'),                                                                                                              
'001A000000AWiTg' => array('nameforsort'=>'Cornell University', 'name'=>'Cornell University'),                                                                                                                       
'001A000000AWiTh' => array('nameforsort'=>'Emory University', 'name'=>'Emory University'),                                                                                                                           
'001A000000AWiTi' => array('nameforsort'=>'Florida State University', 'name'=>'Florida State University'),                                                                                                           
'001A000000AWiTj' => array('nameforsort'=>'Harvard University', 'name'=>'Harvard University'),                                                                                                                       
'001A000000AWiTk' => array('nameforsort'=>'Illinois, University of - Chicago', 'name'=>'University of Illinois at Chicago'),                                                                                         
'001A000000AWiTl' => array('nameforsort'=>'Indiana University', 'name'=>'Indiana University'),                                                                                                                       
'001A000000AWiTm' => array('nameforsort'=>'Iowa, University of', 'name'=>'University of Iowa'),                                                                                                                      
'001A000000AWiTn' => array('nameforsort'=>'Kansas, University of', 'name'=>'University of Kansas'),                                                                                                                  
'001A000000AWiTo' => array('nameforsort'=>'Kent State University', 'name'=>'Kent State University'),                                                                                                                 
'001A000000AWiTp' => array('nameforsort'=>'Loyola University of Chicago', 'name'=>'Loyola University of Chicago'),                                                                                                   
'001A000000AWiTq' => array('nameforsort'=>'McGill University', 'name'=>'McGill University'),                                                                                                                         
'001A000000AWiTr' => array('nameforsort'=>'Michigan State University', 'name'=>'Michigan State University'),                                                                                                         
'001A000000AWiTs' => array('nameforsort'=>'Missouri, University of - Columbia', 'name'=>'University of Missouri-Columbia'),                                                                                          
'001A000000AWiTt' => array('nameforsort'=>'North Carolina, University of - Chapel Hill', 'name'=>'University of North Carolina at Chapel Hill'),                                                                     
'001A000000AWiTu' => array('nameforsort'=>'Northern Illinois University', 'name'=>'Northern Illinois University'),                                                                                                   
'001A000000AWiTv' => array('nameforsort'=>'Notre Dame, University of', 'name'=>'University of Notre Dame'),                                                                                                          
'001A000000AWiTw' => array('nameforsort'=>'Ohio University', 'name'=>'Ohio University'),                                                                                                                             
'001A000000AWiTy' => array('nameforsort'=>'Oregon State University', 'name'=>'Oregon State University'),                                                                                                             
'001A000000AWiTz' => array('nameforsort'=>'Pittsburgh, University of', 'name'=>'University of Pittsburgh'),                                                                                                          
'001A000000AWiU0' => array('nameforsort'=>'Purdue University', 'name'=>'Purdue University'),                                                                                                                         
'001A000000AWiU1' => array('nameforsort'=>'Rochester, University of', 'name'=>'University of Rochester'),                                                                                                            
'001A000000AWiU2' => array('nameforsort'=>'Southern California, University of', 'name'=>'University of Southern California'),                                                                                        
'001A000000AWiU3' => array('nameforsort'=>'Texas, University of - Austin', 'name'=>'University of Texas at Austin'),                                                                                                 
'001A000000AWiU4' => array('nameforsort'=>'Toronto, University of', 'name'=>'University of Toronto'),                                                                                                                
'001A000000AWiU5' => array('nameforsort'=>'Utah, University of', 'name'=>'University of Utah'),                                                                                                                      
'001A000000AWiU6' => array('nameforsort'=>'Vanderbilt University', 'name'=>'Vanderbilt University'),                                                                                                                 
'001A000000AWiU7' => array('nameforsort'=>'Virginia, University of', 'name'=>'University of Virginia'),                                                                                                              
'001A000000AWiU8' => array('nameforsort'=>'Washington, University of', 'name'=>'University of Washington'),                                                                                                          
'001A000000AWiU9' => array('nameforsort'=>'Western Michigan University', 'name'=>'Western Michigan University'),                                                                                                     
'001A000000AWiUA' => array('nameforsort'=>'Yale University', 'name'=>'Yale University'),                                                                                                                             
'001A000000AWiUB' => array('nameforsort'=>'Alabama, University of', 'name'=>'University of Alabama'),                                                                                                                
'001A000000AWiUC' => array('nameforsort'=>'Arizona, University of', 'name'=>'University of Arizona'),                                                                                                                
'001A000000AWiUD' => array('nameforsort'=>'Arkansas, University of', 'name'=>'University of Arkansas'),                                                                                                              
'001A000000AWiUE' => array('nameforsort'=>'California, University of - Berkeley', 'name'=>'University of California, Berkeley'),                                                                                     
'001A000000AWiUF' => array('nameforsort'=>'California, University of - Irvine', 'name'=>'University of California, Irvine'),                                                                                         
'001A000000AWiUG' => array('nameforsort'=>'California, University of - Riverside', 'name'=>'University of California, Riverside'),                                                                                   
'001A000000AWiUH' => array('nameforsort'=>'California, University of - Santa Barbara', 'name'=>'University of California, Santa Barbara'),                                                                           
'001A000000AWiUI' => array('nameforsort'=>'Chicago, University of', 'name'=>'University of Chicago'),                                                                                                                
'001A000000AWiUJ' => array('nameforsort'=>'Claremont Colleges', 'name'=>'The Claremont Colleges'),                                                                                                                   
'001A000000AWiUK' => array('nameforsort'=>'Columbia University', 'name'=>'Columbia University'),                                                                                                                     
'001A000000AWiUL' => array('nameforsort'=>'Delaware, University of', 'name'=>'University of Delaware'),                                                                                                              
'001A000000AWiUM' => array('nameforsort'=>'Duke University', 'name'=>'Duke University'),                                                                                                                             
'001A000000AWiUN' => array('nameforsort'=>'Florida, University of', 'name'=>'University of Florida'),                                                                                                                
'001A000000AWiUO' => array('nameforsort'=>'Georgia, University of', 'name'=>'University of Georgia'),                                                                                                                
'001A000000AWiUP' => array('nameforsort'=>'Houston, University of', 'name'=>'University of Houston'),                                                                                                                
'001A000000AWiUQ' => array('nameforsort'=>'Illinois, University of - Urbana-Champaign', 'name'=>'University of Illinois at Urbana-Champaign'),                                                                       
'001A000000AWiUR' => array('nameforsort'=>'Iowa State University', 'name'=>'Iowa State University'),                                                                                                                 
'001A000000AWiUS' => array('nameforsort'=>'Kansas State University', 'name'=>'Kansas State University'),                                                                                                             
'001A000000AWiUT' => array('nameforsort'=>'Kentucky, University of', 'name'=>'University of Kentucky'),                                                                                                              
'001A000000AWiUU' => array('nameforsort'=>'Miami University of Ohio', 'name'=>'Miami University of Ohio'),                                                                                                           
'001A000000AWiUV' => array('nameforsort'=>'Michigan, University of', 'name'=>'University of Michigan'),                                                                                                              
'001A000000AWiUW' => array('nameforsort'=>'Minnesota, University of - Twin Cities', 'name'=>'University of Minnesota-Twin Cities'),                                                                                  
'001A000000AWiUX' => array('nameforsort'=>'Missouri, University of - Kansas City', 'name'=>'University of Missouri-Kansas City'),                                                                                    
'001A000000AWiUY' => array('nameforsort'=>'New York University', 'name'=>'New York University'),                                                                                                                     
'001A000000AWiUZ' => array('nameforsort'=>'State University of New York at Binghamton', 'name'=>'State University of New York at Binghamton'),                                                                       
'001A000000AWiUa' => array('nameforsort'=>'State University of New York at Stony Brook', 'name'=>'State University of New York at Stony Brook'),                                                                     
'001A000000AWiUb' => array('nameforsort'=>'North Carolina State University', 'name'=>'North Carolina State University'),                                                                                             
'001A000000AWiUc' => array('nameforsort'=>'Northwestern University', 'name'=>'Northwestern University'),                                                                                                             
'001A000000AWiUd' => array('nameforsort'=>'Ohio State University', 'name'=>'Ohio State University'),                                                                                                                 
'001A000000AWiUe' => array('nameforsort'=>'Oregon, University of', 'name'=>'University of Oregon'),                                                                                                                  
'001A000000AWiUf' => array('nameforsort'=>'Pennsylvania State University', 'name'=>'Pennsylvania State University'),                                                                                                 
'001A000000AWiUg' => array('nameforsort'=>'Princeton University', 'name'=>'Princeton University'),                                                                                                                   
'001A000000AWiUh' => array('nameforsort'=>'Rutgers, The State University of New Jersey', 'name'=>'Rutgers, The State University of New Jersey'),                                                                     
'001A000000AWiUi' => array('nameforsort'=>'South Carolina, University of', 'name'=>'University of South Carolina'),                                                                                                  
'001A000000AWiUj' => array('nameforsort'=>'Texas A & M University', 'name'=>'Texas A & M University'),                                                                                                               
'001A000000AWiUk' => array('nameforsort'=>'Tennessee, University of', 'name'=>'University of Tennessee'),                                                                                                            
'001A000000AWiUl' => array('nameforsort'=>'Tulane University', 'name'=>'Tulane University'),                                                                                                                         
'001A000000AWiUm' => array('nameforsort'=>'Vermont, University of', 'name'=>'University of Vermont'),                                                                                                                
'001A000000AWiUn' => array('nameforsort'=>'Washington University', 'name'=>'Washington University'),                                                                                                                 
'001A000000AWiUo' => array('nameforsort'=>'Wisconsin, University of - Madison', 'name'=>'University of Wisconsin-Madison'),                                                                                          
'001A000000AWiUp' => array('nameforsort'=>'Bowling Green State University', 'name'=>'Bowling Green State University'),                                                                                               
'001A000000AWiUq' => array('nameforsort'=>'Carleton University', 'name'=>'Carleton University'),                                                                                                                     
'001A000000AWiUr' => array('nameforsort'=>'Case Western Reserve University', 'name'=>'Case Western Reserve University'),                                                                                             
'001A000000AWiUt' => array('nameforsort'=>'Dayton, University of', 'name'=>'University of Dayton'),                                                                                                                  
'001A000000AWiUu' => array('nameforsort'=>'Lake Forest College', 'name'=>'Lake Forest College'),                                                                                                                     
'001A000000AWiUw' => array('nameforsort'=>'National Humanities Center', 'name'=>'National Humanities Center'),                                                                                                       
'001A000000AWiUx' => array('nameforsort'=>'School of Advanced International Studies at Johns Hopkins University', 'name'=>'Paul H Nitze School of Advanced International Studies at Johns Hopkins University'),      
'001A000000AWiUy' => array('nameforsort'=>'Princeton Theological Seminary', 'name'=>'Princeton Theological Seminary'),                                                                                               
'001A000000KLmwS' => array('nameforsort'=>'Baylor University', 'name'=>'Baylor University'),                                                                                                                         
'001A000000C6g1e' => array('nameforsort'=>'Maryland, University of', 'name'=>'University of Maryland, College Park'),                                                                                                
'001A000000C6eOw' => array('nameforsort'=>'Central Florida, University of', 'name'=>'University of Central Florida'),                                                                                                
'001A000000GWd9w' => array('nameforsort'=>'Olivet Nazarene University', 'name'=>'Olivet Nazarene University'),                                                                                                       
'001A000000C6g1L' => array('nameforsort'=>'Utah State University', 'name'=>'Utah State University'),                                                                                                                 
'001A000000C6g11' => array('nameforsort'=>'South, University of', 'name'=>'University of the South'),                                                                                                                
'001A000000GWn76' => array('nameforsort'=>'Northern British Columbia, University of', 'name'=>'University of Northern British Columbia'),                                                                            
'001A000000GWnD2' => array('nameforsort'=>'Williams College', 'name'=>'Williams College'),                                                                                                                           
'001F000000fKfTJ' => array('nameforsort'=>'Carroll College', 'name'=>'Carroll College'),                                                                                                                             
'001F000000fIFsZ' => array('nameforsort'=>'York University', 'name'=>'York University'),                                                                                                                             
'001F000000fKfk0' => array('nameforsort'=>'Texas, University of - El Paso', 'name'=>'University of Texas at El Paso'),                                                                                               
'001F000000fKfqo' => array('nameforsort'=>'California, University of - Merced', 'name'=>'University of California, Merced'),                                                                                         
'001F000000fKfVR' => array('nameforsort'=>'City University of New York - Graduate Center', 'name'=>'City University of New York - Graduate Center'),                                                                 
'001F000000fKfic' => array('nameforsort'=>'City University of New York - Queensborough Community College', 'name'=>'City University of New York - Queensborough Community College'),                                 
'001F000000fKfgg' => array('nameforsort'=>'City University of New York - Baruch College', 'name'=>'City University of New York - Baruch College'),                                                                   
'001A000000cjJTp' => array('nameforsort'=>'Georgia Southern University', 'name'=>'Georgia Southern University'),                                                                                                     
'001F000000fKfqQ' => array('nameforsort'=>'West Virginia University', 'name'=>'West Virginia University'),                                                                                                           
'001F000000fyPyM' => array('nameforsort'=>'City University of New York - College of Staten Island', 'name'=>'City University of New York - College of Staten Island'),                                               
'001F000000fKfjd' => array('nameforsort'=>'Air Force Institute of Technology', 'name'=>'Air Force Institute of Technology'),                                                                                         
'001A000000ZqhuK' => array('nameforsort'=>'Massachusetts-Boston, University of', 'name'=>'University of Massachusetts-Boston'),                                                                                      
'001A000000ZqgoR' => array('nameforsort'=>'North Florida, University of', 'name'=>'University of North Florida'),                                                                                                    
'001A000000RBNyB' => array('nameforsort'=>'Middlebury College', 'name'=>'Middlebury College')                                                                                                                       

	);
  
  // array used for sorting on 'nameforsort'
  $sortArray = array(); 
  
  // add each key (nameforsort and name) as options to sort by
  foreach($options as $inst){ 
      foreach($inst as $key=>$value){ 
          if(!isset($sortArray[$key])){ 
              $sortArray[$key] = array(); 
          } 
        $sortArray[$key][] = $value; 
      } 
  } 
  
  // sort by nameforsort
  $orderby = "nameforsort"; 
  array_multisort($sortArray[$orderby],SORT_ASC,$options);
  
  // new array to be returned to drupal
  $options_clean = array();
  
  // loop through (now properly sorted) options array, and build $options_clean using the salesforce ID and name element
  foreach ($options as $key => $val){
    $options_clean[$key] = $options[$key]['name'];
  }
  
  // return a simple, flat array of institutions
  return $options_clean;

  }
  
  
  
  
  
  
  /**
 * Implementation of hook_link().
 */
// Leave this here for a reference, but I decided to generate this link in the
// theme to be consistent with the Print/Share links.
//function crl_helpers_link($type, $object, $teaser = FALSE) {
  //$links = array();
  

  //if ($type == 'node' && isset($object->type) && $object->type == 'news') {
    //// Add a link to the news feed to News nodes.
    //$links['subscribe'] = array(
      //'title' => t('Subscribe'),
      //'href' => 'news/feed',
      //'attributes' => array('title' => t('Subscribe to the CRL News Feed.'),
                            //'class' => 'subscribe',),
    //);
  //}

  //return $links;
//}



/**
* Implementation of hook_webform_select_options_info().
* See webform/webform_hooks.php for further information on this hook in the Webform API.
*/
                                                                                                  
