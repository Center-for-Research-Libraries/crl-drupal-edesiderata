From 5bb7880aec5a84043a4dca9740aba6ca82545fbf Mon Sep 17 00:00:00 2001
From: Ryan Jacobs <rjacobs@422459.no-reply.drupal.org>
Date: Wed, 13 Nov 2013 13:16:40 -0600
Subject: [PATCH] Issue #2052215 by rjacobs, erdos: Allow multiple table
 updates via ajax on same save.

---
 tablefield.module |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/tablefield.module b/tablefield.module
index ce108c2..852de02 100644
--- a/tablefield.module
+++ b/tablefield.module
@@ -410,7 +410,7 @@ function tablefield_field_widget_form(&$form, &$form_state, $field, $instance, $
     // A form was submitted
     $default_value = tablefield_rationalize_table($items[$delta]['tablefield']);
   }
-  elseif (isset($items[$delta]['value'])) {
+  elseif (isset($items[$delta]['value']) && !isset($form_state['clicked_button']['#value'])) {
     // Default from database (saved node)
     $default_value = tablefield_rationalize_table(unserialize($items[$delta]['value']));
   }
-- 
1.7.7.5 (Apple Git-26)

